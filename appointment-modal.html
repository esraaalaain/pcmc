<!DOCTYPE html>
<html lang="en">

<head>
    <title>Datepicker</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- important -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Important -->
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
</head>


<body>
    <!-- <div class="modal fade" id="exampleModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> -->
    <div class="modal-dialog" role="document">
        <div class="modal-content text-white">
            <div class="modal-header appointment_modal_header">
                <h5 class="modal-title font-weight-bold" id="exampleModalLabel">حجز الموعد</h5>
                <button type="button" class="close modal_close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body appointment_modal_body">
                <div class="error-message"></div>
                <form id="addAppointmentForm">
                    <label for="patient">
                        <h5 class="text-primary text-right">الملف الطبي</h5>
                    </label>
                    <select class="form-control rounded-pill" id="patient" name="patient">
                        <option value="">إختر</option>
                        <option value="patient_id">لدي ملف</option>
                        <option value="add_new">فتح ملف جديد</option>
                    </select>
                    <div id="patientIdField" style="display:none;">
                        <label for="patient_id">
                            <h5 class="text-primary text-right">رقم الهوية</h5>
                        </label>
                        <input type="text" class="form-control rounded-pill" name="patient_id"
                            placeholder="ادخل رقم الهوية">
                    </div>
                    <div id="patientDetails" style="display:none;">
                        <label for="p_name">
                            <h5 class="text-primary text-right">اسم المراجع</h5>
                        </label>
                        <input type="text" class="form-control rounded-pill" name="p_name">
                        <label for="p_national_id">
                            <h5 class="text-primary text-right">رقم هوية المراجع</h5>
                        </label>
                        <input type="text" class="form-control rounded-pill" name="p_national_id">
                        <label for="p_email">
                            <h5 class="text-primary text-right">البريد الالكتروني</h5>
                        </label>
                        <input type="email" class="form-control rounded-pill" name="p_email">
                        <label for="p_phone">
                            <h5 class="text-primary text-right">رقم الهاتف</h5>
                        </label>
                        <input type="text" class="form-control rounded-pill" name="p_phone">
                        <label for="p_gender">
                            <h5 class="text-primary text-right">الجنس</h5>
                        </label>
                        <select class="form-control rounded-pill" name="p_gender">
                            <option value="Male">رجل</option>
                            <option value="Female">إمرأة</option>
                        </select>
                    </div>

                    <label for="doctor" class="pt-3">
                        <h5 class="text-primary text-right">الطبيب</h5>
                    </label>
                    <input type="text" class="form-control rounded-pill" id="dr-name" name="dr-name" value="د. مجاهد"
                        readonly>
                    <input type="hidden" id="doctor-id" name="doctor-id">

                    <label for="date" class="pt-3">
                        <h5 class="text-primary text-right">التاريخ</h5>
                    </label>
                    <div class="col-sm-4">
                        <div class="input-group date" id="datepicker">
                            <input type="text" class="form-control">
                            <span class="input-group-append">
                                <span class="input-group-text bg-white">
                                    <i class="fa fa-calendar"></i>
                                </span>
                            </span>
                        </div>
                    </div>

                    <label for="aslots" class="pt-3">
                        <h5 class="text-primary text-right">الوقت المتاح</h5>
                    </label>
                    <select class="form-control rounded-pill" name="time_slot" id="aslots"></select>
                    <label for="visit_description" class="pt-3">
                        <h5 class="text-primary text-right">نوع الزيارة</h5>
                    </label>
                    <select class="form-control rounded-pill" name="visit_description" id="visit_description"></select>
                    <label for="remarks" class="pt-3">
                        <h5 class="text-primary text-right">ملاحظة</h5>
                    </label>
                    <input type="text" class="form-control rounded-pill" name="remarks">
                    <label for="visit_charges" class="pt-3">
                        <h5 class="text-primary text-right">سعر الاستشارة</h5>
                    </label>
                    <input type="number" class="form-control rounded-pill" name="visit_charges" id="visit_charges"
                        min="0" readonly>

                    <input type="checkbox" id="pay_now_appointment" name="pay_now_appointment"
                        value="pay_now_appointment">
                    <label for="pay_now_appointment">إدفع الآن</label>

                    <button type="submit" class="btn btn-primary mt-3 float-right">إحجز الآن</button>
                </form>
            </div>
        </div>
        <!-- </div> -->
    </div>

    <!-- Bootstrap & jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.ar.min.js"></script>

    <!-- Initialize Date Picker -->
    <script>
        $(document).ready(function () {

            // Handle patient selection logic
            $("#patient").change(function () {
                if ($(this).val() === "add_new") {
                    $("#patientDetails").slideDown();
                    $("#patientIdField").slideUp();
                } else if ($(this).val() === "patient_id") {
                    $("#patientIdField").slideDown();
                    $("#patientDetails").slideUp();
                } else {
                    $("#patientDetails").slideUp();
                    $("#patientIdField").slideUp();
                }
            });

            // Prevent form submission for testing
            $('#addAppointmentForm').submit(function (e) {
                e.preventDefault();
                alert("تم حجز الموعد بنجاح!");
            });
        });
    </script>
    <script type="text/javascript">
        $(function () {
            $('#datepicker').datepicker();
        });
    </script>

</body>

</html>